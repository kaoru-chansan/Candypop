<h1>Public::Posts#show</h1>
<p>Find me in app/views/public/posts/show.html.erb</p>

<!--投稿内容-->
<div>
  <%= link_to customers_show_path(@customer) do %>
  <%= image_tag @post.get_post_image(500,300) %>
  <p>説明：<%= @post.caption %></p>
  <p>投稿ユーザー画像：<%= image_tag @post.customer.get_customer_image(100,100) %></p>
  <p>ユーザーネーム：<%= @post.customer.name %></p>
  <p>投稿日：<%= @post.created_at.strftime('%Y/%m/%d') %></p>
  <% end %>
</div>

<!--お気に入りアクション-->
<td>
  <%= render 'public/favorites/favorite', post: @post %>
</td>

<!--投稿にコメントする-->
<div>
  <p>コメント件数：<%= @post.post_comments.count %></p>

  <% if @error_comment.present? %>
    <div id="error_explanation">
      <h2><%= @error_comment.errors.count %>件のエラーが発生しました。</h2>
      <ul>
        <% @error_comment.errors.full_messages.each do |message| %>
        <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <% @post.post_comments.each do |post_comment| %>
    <p><%= image_tag post_comment.customer.get_customer_image(100,100) %></p>
    <%= post_comment.customer.name %>
    <%= post_comment.created_at %><%= post_comment.comment %>
    <% if post_comment.customer == current_customer %>
      <%= link_to "削除", post_post_comment_path(post_comment.post, post_comment), method: :delete, "data-confirm" => "コメントの削除をしますか？" %>
    <% end %>
  <% end %>
</div>
<div>
  <%= form_with model: [@post, @post_comment] do |f| %>
    <%= f.text_area :comment, rows: '5', placeholder: "コメントをここに" %>
    <%= f.submit "送信する" %>
  <% end %>
</div>

  <!--投稿の編集と削除-->
  <% if @post.customer == current_customer %>
    <%= link_to "編集", edit_post_path(@post) %>
    <%= link_to "削除", post_path(@post), method: :delete, "data-confirm" => "投稿の削除をしますか？" %>
  <% else %>
    <%= link_to "戻る", posts_path %>
  <% end %>
</div>